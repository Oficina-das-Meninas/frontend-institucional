<div class="flex min-h-screen">
  <img
    alt="Meninas abraçando"
    class="lg:flex lg:w-2/3 relative items-center justify-center overflow-hidden object-cover hidden"
    src="./meninas_pintando.webp"
  />

  <div class="w-full lg:w-1/3 flex flex-col bg-white">
    <div
      class="flex-grow flex items-center justify-center p-6 sm:p-12 relative"
    >
      <a
        routerLink="/"
        class="absolute top-6 left-6 flex items-center text-gray-500 hover:text-gray-900 transition-colors cursor-pointer"
      >
        <mat-icon class="mr-1 text-sm leading-none">arrow_back</mat-icon>
        <span class="text-sm font-medium">Voltar</span>
      </a>

      <div class="w-full">
        <div class="text-center mb-8 flex flex-col items-center">
          <div class="mb-6 p-2 rounded-full bg-white inline-block">
            <app-logo cssClass="size-35" />
          </div>
          <h1 class="text-2xl font-bold text-gray-900">Crie sua conta</h1>
          <p class="text-gray-500 mt-2">Junte-se a nós! É rápido e fácil.</p>
        </div>

        <div class="bg-white rounded-2xl w-full">
          <form
            [formGroup]="form"
            (ngSubmit)="onSubmit()"
            class="flex flex-col md:gap-2 gap-5  w-full"
          >
            <div>
              <mat-form-field appearance="outline" class="w-full">
                <mat-label>Nome completo</mat-label>
                <input
                  matInput
                  formControlName="name"
                  placeholder="Digite seu nome"
                  type="text"
                />
                @if(formHelper.getErrorMessage(form, 'name')) {
                <mat-error class="text-sm"
                  >{{ formHelper.getErrorMessage(form, 'name') }}</mat-error
                >
                }
              </mat-form-field>
            </div>

            <div>
              <mat-form-field appearance="outline" class="w-full">
                <mat-label>CPF</mat-label>
                <input
                  matInput
                  formControlName="document"
                  placeholder="000.000.000-00"
                  mask="000.000.000-00"
                />
                @if(formHelper.getErrorMessage(form, 'document')) {
                <mat-error class="text-sm"
                  >{{ formHelper.getErrorMessage(form, 'document') }}</mat-error
                >
                }
              </mat-form-field>
            </div>

            <div>
              <mat-form-field appearance="outline" class="w-full">
                <mat-label>E-mail</mat-label>
                <input
                  matInput
                  formControlName="email"
                  placeholder="exemplo@email.com"
                  type="email"
                />
                @if(formHelper.getErrorMessage(form, 'email')) {
                <mat-error class="text-sm"
                  >{{ formHelper.getErrorMessage(form, 'email') }}</mat-error
                >
                }
              </mat-form-field>
            </div>

            <div>
              <mat-form-field appearance="outline" class="w-full">
                <mat-label>Telefone</mat-label>
                <input
                  matInput
                  formControlName="phone"
                  placeholder="(00) 00000-0000"
                  mask="(00) 00000-0000"
                  type="tel"
                />
                @if(formHelper.getErrorMessage(form, 'phone')) {
                <mat-error class="text-sm"
                  >{{ formHelper.getErrorMessage(form, 'phone') }}</mat-error
                >
                }
              </mat-form-field>
            </div>

            <div>
              <mat-form-field appearance="outline" class="w-full">
                <mat-label>Senha</mat-label>
                <input
                  matInput
                  formControlName="password"
                  [type]="hidePassword() ? 'password' : 'text'"
                />
                <button
                  mat-icon-button
                  matSuffix
                  (click)="hidePassword.set(!hidePassword())"
                  [attr.aria-label]="'Alternar visibilidade da senha'"
                  [attr.aria-pressed]="hidePassword()"
                  type="button"
                >
                  <mat-icon
                    >{{ hidePassword() ? 'visibility_off' : 'visibility'
                    }}</mat-icon
                  >
                </button>
                @if(formHelper.getErrorMessage(form, 'password')) {
                <mat-error class="text-sm"
                  >{{ formHelper.getErrorMessage(form, 'password') }}</mat-error
                >
                }
              </mat-form-field>
            </div>

            <button
              class="w-full mt-4 rounded-full bg-[#C81E71] py-3 px-4 text-base font-bold text-white shadow-sm transition-all hover:bg-[#A9125B] hover:shadow-md focus:outline-none focus:ring-2 focus:ring-[#C81E71] focus:ring-offset-2 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed"
              type="submit"
              [disabled]="loadingRequest()"
            >
              @if(loadingRequest()) {
              <span>Criando conta...</span>
              } @else {
              <span>Criar conta</span>
              }
            </button>
          </form>
        </div>

        <div class="text-center mt-8">
          <p class="text-sm text-gray-500">
            Já tem uma conta?
            <a
              routerLink="/login"
              class="font-medium text-[#C81E71] hover:underline cursor-pointer"
            >
              Acesse agora
            </a>
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
